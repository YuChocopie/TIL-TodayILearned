## atomic operation(원자적 연산)

중단이 불가능한 연산을 원자적 연산이라 한다.



~~~
public class Example { 
	int lastid;
	
	public void resetldO {
		lastID = 0;
	}

	public int getNextldO {
		++lastID;
	}
}
~~~



#### lastid에 0을 할당하는 연산은 원자적 이다

하지만 lastid를 int에서 long으로 바꾼다면 64비트 값을 할당하는 연산은 32비트 값을 할당하는 연산 두 개로 나눠진다. 첫32비트 값을 할당한 직후에 그리고 둘째 32비트 값을 할당하기 직전에다른스레드가끼어들어두32비트값중하나를변경할수있 다는 의미이다.



####  전처리 증가 연산자 ++는 원자적 연산이라 오해하는 사람이 많은데원자적 연산이 아니다.

전처리 증가 연산자는 중단이가능하다. 따라서 원자적 연산이 아니다.

- 공유객체/값이 있는곳
- 동시 읽기/수정 문제를 일으킬 소지가 있는 코드
- 동시 성 문제를 방지하는 방법
